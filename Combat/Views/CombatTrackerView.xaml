<Page x:Class="Combat.Views.CombatTrackerPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Background="{StaticResource SurfaceDark}">

    <Grid>
        <!-- Row: Top Bar (Global Info) -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Top Bar -->
            <RowDefinition Height="*"/>
            <!-- Main Content -->
        </Grid.RowDefinitions>

        <!-- Columns: Left (Party), Middle (Enemies), Right (Combat Log) -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <!-- Party Members -->
            <ColumnDefinition Width="*"/>
            <!-- Active Enemies -->
            <ColumnDefinition Width="300"/>
            <!-- Combat Log -->
        </Grid.ColumnDefinitions>

        <!-- Top Bar -->
        <StackPanel Orientation="Horizontal" Grid.Row="0" Grid.ColumnSpan="3" Background="{StaticResource SurfaceDark}" Margin="5">
            <TextBlock Name="txtTXE" Text="TXE: 0" Foreground="{StaticResource PrimaryAccent}" FontWeight="Bold" FontSize="16" VerticalAlignment="Center"/>
            <Button Content="Add Enemy" Margin="10,0,0,0" Width="100" Click="BtnAddEnemy_Click"/>
            <Button Content="Reset TXE" Margin="10,0,0,0" Width="100" Click="BtnResetTXE_Click"/>
        </StackPanel>

        <!-- Party Members Panel -->
        <StackPanel Grid.Row="1" Grid.Column="0" Background="{StaticResource SurfaceDark}" Margin="5">
            <TextBlock Text="Party Members (max 6)" FontWeight="Bold" Foreground="{StaticResource PrimaryAccent}" Margin="0,0,0,5"/>
            <StackPanel Name="spPartyMembers" Margin="0,0,0,50"/>
            <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom" HorizontalAlignment="Center" Margin="0,10,0,0">
                <Button Content="Add Member" Width="100" Click="BtnAddMember_Click"/>
                <Button Content="Clear Members" Width="100" Margin="10,0,0,0" Click="BtnClearMembers_Click"/>
            </StackPanel>
        </StackPanel>

        <!-- Active Enemies Panel -->
        <StackPanel Grid.Row="1" Grid.Column="1" Background="{StaticResource SurfaceDark}" Margin="5">
            <TextBlock Text="Active Combatants" FontWeight="Bold" Foreground="{StaticResource PrimaryAccent}" Margin="0,0,0,5"/>
            <StackPanel Name="spActiveEnemies"/>
        </StackPanel>

        <!-- Combat Log Panel -->
        <RichTextBox Grid.Row="1" Grid.Column="2" Name="rtbCombatLog" IsReadOnly="True" VerticalScrollBarVisibility="Auto"
                     Background="{StaticResource SurfaceDark}" Foreground="{StaticResource TextPrimaryDark}" FontSize="14" Margin="5"/>
    </Grid>
</Page>
